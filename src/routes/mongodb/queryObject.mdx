---
title : query objects
---

## MongoDB Update Operators

These operators are used in the **update document** (second argument) of methods like `findOneAndUpdate`, `updateOne`, etc.

### Field Update Operators

| Operator | Purpose | Example |
|--------|--------|--------|
| `$set` | Sets the value of a field | `{ $set: { name: "Alice" } }` |
| `$unset` | Removes a field | `{ $unset: { tempFlag: "" } }` |
| `$inc` | Increments a numeric field | `{ $inc: { views: 1 } }` |
| `$min` | Sets field to the **minimum** of current and new value | `{ $min: { lowScore: 50 } }` |
| `$max` | Sets field to the **maximum** of current and new value | `{ $max: { highScore: 90 } }` |
| `$mul` | Multiplies a numeric field | `{ $mul: { price: 1.1 } }` |
| `$rename` | Renames a field | `{ $rename: { oldName: "newName" } }` |

### Array Update Operators

| Operator | Purpose | Example |
|--------|--------|--------|
| `$push` | Adds an element to an array | `{ $push: { tags: "javascript" } }` |
| `$pull` | Removes all array elements that match a condition | `{ $pull: { tags: "deprecated" } }` |
| `$pullAll` | Removes all specified values from an array | `{ $pullAll: { roles: ["guest", "trial"] } }` |
| `$addToSet` | Adds value to array **only if not already present** | `{ $addToSet: { tags: "unique" } }` |
| `$pop` | Removes first (`-1`) or last (`1`) element | `{ $pop: { comments: 1 } }` |

### Positional Array Operators

| Operator | Purpose | Example |
|--------|--------|--------|
| `$` | Updates the **first matching** array element (requires query condition) | `{ $set: { "comments.$": "edited" } }` *(with query `{ "comments": "old" }`)* |
| `$[<identifier>]` | Updates **all/some** array elements using `arrayFilters` | `{ $set: { "grades.$[g]": 100 } }` `{ arrayFilters: [{ g: { $lt: 70 } }] }` |

### Date & Special Operators

| Operator | Purpose | Example |
|--------|--------|--------|
| `$currentDate` | Sets field to current date/time | `{ $currentDate: { lastModified: true } }` `{ $currentDate: { timestamp: { $type: "timestamp" } } }` |
| `$bit` | Performs bitwise `and`, `or`, or `xor` | `{ $bit: { flags: { and: 10, or: 5 } } }` |

**Note** : In **Mongoose**, top-level fields like `{ name: "Alice" }` are automatically wrapped in `$set`. But in **raw MongoDB**, you must use `$set` explicitly.



  

